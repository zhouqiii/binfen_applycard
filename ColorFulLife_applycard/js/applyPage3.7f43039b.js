(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["applyPage3"],{"25f0":function(e,t,n){"use strict";var s=n("6eeb"),a=n("825a"),o=n("d039"),r=n("ad6d"),i="toString",c=RegExp.prototype,d=c[i],l=o((function(){return"/a/b"!=d.call({source:"a",flags:"b"})})),m=d.name!=i;(l||m)&&s(RegExp.prototype,i,(function(){var e=a(this),t=String(e.source),n=e.flags,s=String(void 0===n&&e instanceof RegExp&&!("flags"in c)?r.call(e):n);return"/"+t+"/"+s}),{unsafe:!0})},"4d63":function(e,t,n){var s=n("83ab"),a=n("da84"),o=n("94ca"),r=n("7156"),i=n("9bf2").f,c=n("241c").f,d=n("44e7"),l=n("ad6d"),m=n("9f7f"),f=n("6eeb"),h=n("d039"),u=n("69f3").set,p=n("2626"),g=n("b622"),y=g("match"),b=a.RegExp,v=b.prototype,C=/a/g,k=/a/g,w=new b(C)!==C,D=m.UNSUPPORTED_Y,P=s&&o("RegExp",!w||D||h((function(){return k[y]=!1,b(C)!=C||b(k)==k||"/a/i"!=b(C,"i")})));if(P){var A=function(e,t){var n,s=this instanceof A,a=d(e),o=void 0===t;if(!s&&a&&e.constructor===A&&o)return e;w?a&&!o&&(e=e.source):e instanceof A&&(o&&(t=l.call(e)),e=e.source),D&&(n=!!t&&t.indexOf("y")>-1,n&&(t=t.replace(/y/g,"")));var i=r(w?new b(e,t):b(e,t),s?this:v,A);return D&&n&&u(i,{sticky:n}),i},x=function(e){e in A||i(A,e,{configurable:!0,get:function(){return b[e]},set:function(t){b[e]=t}})},T=c(b),R=0;while(T.length>R)x(T[R++]);v.constructor=A,A.prototype=v,f(a,"RegExp",A)}p("RegExp")},7156:function(e,t,n){var s=n("861d"),a=n("d2bb");e.exports=function(e,t,n){var o,r;return a&&"function"==typeof(o=t.constructor)&&o!==n&&s(r=o.prototype)&&r!==n.prototype&&a(e,r),e}},"785b":function(e,t,n){},a15b:function(e,t,n){"use strict";var s=n("23e7"),a=n("44ad"),o=n("fc6a"),r=n("a640"),i=[].join,c=a!=Object,d=r("join",",");s({target:"Array",proto:!0,forced:c||!d},{join:function(e){return i.call(o(this),void 0===e?",":e)}})},b0c0:function(e,t,n){var s=n("83ab"),a=n("9bf2").f,o=Function.prototype,r=o.toString,i=/^\s*function ([^ (]*)/,c="name";s&&!(c in o)&&a(o,c,{configurable:!0,get:function(){try{return r.call(this).match(i)[1]}catch(e){return""}}})},c1b6:function(e,t,n){"use strict";n("785b")},c5f3:function(e,t,n){"use strict";n.r(t);var s,a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("common-header",{attrs:{title:e.title}}),n("div",[n("div",{staticClass:"box_frame cartMark"},[n("div",{staticClass:"card"},[n("div",{staticClass:"imgPos"},[n("img",{attrs:{src:e.cardMsg.defaultPic}})]),n("div",{staticStyle:{margin:"auto 0% auto 3%"}},[n("p",{staticClass:"titleCard"},[e._v(e._s(e.cardMsg.cardName))]),n("p",{staticClass:"cardNumber"},[e._v(e._s(e.cardMsg.cardIntro))])])])]),n("van-form",{staticClass:"formBox"},[n("div",[n("div",[n("p",{staticClass:"titleCard"},[e._v("紧急联系人")])]),n("div",{staticClass:"ruleForm"},[n("div",{staticClass:"formItem"},[n("van-field",{attrs:{label:"*紧急联系人","error-message":e.errMsg.name,placeholder:"请输入姓名"},on:{blur:e.checkName},model:{value:e.formData.emergencyContact,callback:function(t){e.$set(e.formData,"emergencyContact",t)},expression:"formData.emergencyContact"}})],1),n("div",{staticClass:"formItem"},[n("van-field",{attrs:{"is-link":"",readonly:"",label:"*与你的关系"},on:{click:function(t){e.showRelation=!0}},model:{value:e.formData.relationship,callback:function(t){e.$set(e.formData,"relationship",t)},expression:"formData.relationship"}}),n("van-popup",{attrs:{round:"",position:"bottom"},model:{value:e.showRelation,callback:function(t){e.showRelation=t},expression:"showRelation"}},[n("van-picker",{attrs:{"show-toolbar":"",columns:e.optionsRelation},on:{cancel:function(t){e.showRelation=!1},confirm:e.onConfirmRelation}})],1)],1),n("div",{staticClass:"formItem"},[n("van-field",{attrs:{label:"*ta的电话",placeholder:"请输入电话","error-message":e.errMsg.mobilePhone},on:{blur:e.checkPhone},model:{value:e.formData.emergencyConPhone,callback:function(t){e.$set(e.formData,"emergencyConPhone",t)},expression:"formData.emergencyConPhone"}})],1)])]),n("div",[n("div",[n("p",{staticClass:"titleCard"},[e._v("服务功能选择")])]),n("div",{staticClass:"ruleForm"},[n("div",{staticClass:"formItem"},[n("van-field",{attrs:{"is-link":"",readonly:"",label:"*账单发送方式"},on:{click:function(t){e.showsendType=!0}},model:{value:e.formData.sendType,callback:function(t){e.$set(e.formData,"sendType",t)},expression:"formData.sendType"}}),n("van-popup",{attrs:{round:"",position:"bottom"},model:{value:e.showsendType,callback:function(t){e.showsendType=t},expression:"showsendType"}},[n("van-picker",{attrs:{"show-toolbar":"",columns:e.optionssendType},on:{cancel:function(t){e.showsendType=!1},confirm:e.onConfirmsendType}})],1)],1),n("div",{staticClass:"formItem"},[n("van-field",{attrs:{"is-link":"",readonly:"",label:"*卡函寄送地址"},on:{click:function(t){e.showsendAddress=!0}},model:{value:e.formData.sendAddress,callback:function(t){e.$set(e.formData,"sendAddress",t)},expression:"formData.sendAddress"}}),n("van-popup",{attrs:{round:"",position:"bottom"},model:{value:e.showsendAddress,callback:function(t){e.showsendAddress=t},expression:"showsendAddress"}},[n("van-picker",{attrs:{"show-toolbar":"",columns:e.optionsAdress},on:{cancel:function(t){e.showsendAddress=!1},confirm:e.onConfirmsendAddress}})],1)],1),n("div",{staticClass:"formItem"},[n("van-cell",{attrs:{center:"",title:"*是否需要刷卡密码？"},scopedSlots:e._u([{key:"right-icon",fn:function(){return[n("van-switch",{attrs:{size:"15"},model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}})]},proxy:!0}])})],1)]),n("div",{staticClass:"tips"},[n("p",[e._v("*温馨提示:")]),n("p",[e._v("如果您申请金卡的要求未能审核通过，我们将为您寄送同一品牌的普卡。")])])])]),n("div",{staticClass:"agreeCheck"},[n("button",{staticClass:"submitBtn",style:e.thisStyle,attrs:{disabled:e.btnAgree},on:{click:e.submitMsg}},[n("span",[e._v("提交审核")])])])],1)],1)},o=[],r=(n("4160"),n("a15b"),n("b0c0"),n("b64b"),n("d3b7"),n("4d63"),n("ac1f"),n("25f0"),n("1276"),n("159b"),n("ade3")),i=n("fb8c"),c=n.n(i),d=n("772a"),l=n("d399"),m={name:"ApplyServiceInfo",components:(s={},Object(r["a"])(s,d["a"].name,d["a"]),Object(r["a"])(s,l["a"].name,l["a"]),s),data:function(){return{title:"我要申请-第3步",titleCard:"中银数字信用卡白金卡",desCard:"副标题，精简文案，突出卖点",picture:c.a,formData:{emergencyContact:"",relationship:"",emergencyConPhone:"",sendType:"",sendAddress:""},flag:{emergencyContact:!1,relationship:!1,emergencyConPhone:!1,sendType:!1,sendAddress:!1},errMsg:{mobilePhone:"",name:""},cardMsg:"",checked:!0,btnAgree:!0,thisStyle:"",showRelation:!1,showsendType:!1,showsendAddress:!1,optionsRelation:["父女","母女","兄弟姐妹"],optionssendType:["E-mail","phone"],optionsAdress:["北京市西二旗","外星球"]}},methods:{checkPhone:function(){var e=/^[0-9]+.?[0-9]*/;if(!this.formData.emergencyConPhone)return this.errMsg.mobilePhone="请填写电话！",this.flag.emergencyConPhone=!1,!1;if(!e.test(this.formData.emergencyConPhone))return this.errMsg.mobilePhone="格式错误！",this.flag.emergencyConPhone=!1,!1;if(this.formData.emergencyConPhone.length>11)this.errMsg.mobilePhone="号码最多11位！",this.flag.emergencyConPhone=!1;else{if(!(this.formData.emergencyConPhone.length<7))return this.errMsg.mobilePhone="",this.flag.emergencyConPhone=!0,!0;this.errMsg.mobilePhone="号码最少7位！",this.flag.emergencyConPhone=!1}},checkName:function(){var e=new RegExp("[一-龥]+");return this.formData.emergencyContact?e.test(this.formData.emergencyContact)?(this.errMsg.name="",this.flag.emergencyContact=!0,!0):(this.errMsg.name="请填汉字！",this.flag.emergencyContact=!1,!1):(this.errMsg.name="请填写姓名！",this.flag.emergencyContact=!1,!1)},onConfirmRelation:function(e){this.formData.relationship=e,this.showRelation=!1,this.flag.relationship=!0},onConfirmsendType:function(e){this.formData.sendType=e,this.showsendType=!1,this.flag.sendType=!0},onConfirmsendAddress:function(e){this.formData.sendAddress=e,this.showsendAddress=!1,this.flag.sendAddress=!0},sendData:function(e){var t,n=this,s=encodeURI(Date.parse(new Date));this.requestAxios({url:"/api/cgi.do?txnId=2APO200013&dns=628&gtype=9&attest=-339418059&imei=124545",params:{ecoType:e.ecoType,companyName:e.companyName,companyYears:e.companyYears,comProAndCity:e.comProAndCity,companyDetails:e.companyDetails,companyNumber:e.companyNumber,incomeYear:e.incomeYear,contactUrgent:e.contactUrgent,relation:e.relation,phone:e.phone,sendType:e.sendType,sendAddress:e.sendAddress,passwordUse:e.passwordUse,checkResult:"ll",idCard:e.idCard,eduGrade:e.eduGrade,marriage:e.marriage,homeProAndCity:e.homeProAndCity,homeDetails:e.homeDetails,business:e.business,busInfo:e.busInfo,busGrade:e.busGrade,userId:123456,cardId:parseInt(this.$route.query.cardId),chineseName:e.chineseName,chinesePinyin:e.chinesePinyin,applyTime:s},method:"post"}).then((function(e){"00"==e.code?(t=JSON.parse(e.data),n.$router.push({path:"/ApplyEnd",query:{data:JSON.stringify(t.result)}})):n.$router.push({path:"/ApplyEnd",query:{data:""}})})).catch((function(e){}))},submitMsg:function(){var e=this.formData,t={};Object.keys(e).forEach((function(n){var s=e[n];s=s.toString(),s=s.split(" ").join(""),t[n]=s}));var n=JSON.parse(sessionStorage.getItem("basicData")),s=JSON.parse(sessionStorage.getItem("otherData"));n&&s?(Object.keys(n).forEach((function(e){t[e]=n[e]})),Object.keys(s).forEach((function(e){t[e]=s[e]})),this.checked?t.passwordUse="1":t.passwordUse="0",t.marriage?t.marriage="1":t.marriage="0",console.log(t),Object.keys(t).forEach((function(e){t[e]=encodeURI(t[e])})),this.sendData(t)):this.$toast("有其他信息未填！")}},mounted:function(){this.cardMsg=JSON.parse(this.$route.query.data)},watch:{flag:{handler:function(e){console.log(this.formData);var t=!0;Object.keys(e).forEach((function(n){0==e[n]&&(t=!1)})),t?(this.thisStyle="background: rgb(165 29 29 / 93%);",this.btnAgree=!1):(this.thisStyle="background: #33333391",this.btnAgree=!0)},deep:!0}},beforeDestory:function(){sessionStorage.removeItem("basicData"),sessionStorage.removeItem("otherData")}},f=m,h=(n("c1b6"),n("0c7c")),u=Object(h["a"])(f,a,o,!1,null,null,null);t["default"]=u.exports},fb8c:function(e,t,n){e.exports=n.p+"img/card3.bf248202.png"}}]);